!function(){var e={},n=function(n){for(var t=e[n],i=t.deps,o=t.defn,u=i.length,l=new Array(u),c=0;c<u;++c)l[c]=r(i[c]);var f=o.apply(null,l);if(void 0===f)throw"module ["+n+"] returned undefined";t.instance=f},t=function(n,t,r){if("string"!=typeof n)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+n;if(void 0===r)throw"no definition function for "+n;e[n]={deps:t,defn:r,instance:void 0}},r=function(t){var r=e[t];if(void 0===r)throw"module ["+t+"] was undefined";return void 0===r.instance&&n(t),r.instance},i=function(e,n){for(var t=e.length,i=new Array(t),o=0;o<t;++o)i[o]=r(e[o]);n.apply(null,i)};({}).bolt={module:{api:{define:t,require:i,demand:r}}};var o=t,u=function(e,n){o(e,[],function(){return n})};o("1",[],function(){var e=function(n){var t=n,r=function(){return t};return{get:r,set:function(e){t=e},clone:function(){return e(r())}}};return e}),u("6",tinymce.util.Tools.resolve),o("2",["6"],function(e){return e("tinymce.PluginManager")}),o("3",[],function(){return{get:function(e){return{isFullscreen:function(){return null!==e.get()}}}}}),u("8",document),u("9",window),o("a",["6"],function(e){return e("tinymce.dom.DOMUtils")}),o("b",[],function(){return{fireFullscreenStateChanged:function(e,n){e.fire("FullscreenStateChanged",{state:n})}}}),o("7",["8","9","a","b"],function(e,n,t,r){var i=t.DOM,o=function(){var t,r,i=n,o=e.body;return o.offsetWidth&&(t=o.offsetWidth,r=o.offsetHeight),i.innerWidth&&i.innerHeight&&(t=i.innerWidth,r=i.innerHeight),{w:t,h:r}},u=function(){var e=i.getViewPort();return{x:e.x,y:e.y}},l=function(e){n.scrollTo(e.x,e.y)};return{toggleFullscreen:function(t,c){var f,d,a,s,h=e.body,g=e.documentElement,m=c.get(),v=function(){i.setStyle(a,"height",o().h-(d.clientHeight-a.clientHeight))},w=function(){i.unbind(n,"resize",v)};if(f=(d=t.getContainer()).style,s=(a=t.getContentAreaContainer().firstChild).style,m)s.width=m.iframeWidth,s.height=m.iframeHeight,m.containerWidth&&(f.width=m.containerWidth),m.containerHeight&&(f.height=m.containerHeight),i.removeClass(h,"mce-fullscreen"),i.removeClass(g,"mce-fullscreen"),i.removeClass(d,"mce-fullscreen"),l(m.scrollPos),i.unbind(n,"resize",m.resizeHandler),t.off("remove",m.removeHandler),c.set(null),r.fireFullscreenStateChanged(t,!1);else{var C={scrollPos:u(),containerWidth:f.width,containerHeight:f.height,iframeWidth:s.width,iframeHeight:s.height,resizeHandler:v,removeHandler:w};s.width=s.height="100%",f.width=f.height="",i.addClass(h,"mce-fullscreen"),i.addClass(g,"mce-fullscreen"),i.addClass(d,"mce-fullscreen"),i.bind(n,"resize",v),t.on("remove",w),v(),c.set(C),r.fireFullscreenStateChanged(t,!0)}}}}),o("4",["7"],function(e){return{register:function(n,t){n.addCommand("mceFullScreen",function(){e.toggleFullscreen(n,t)})}}}),o("5",[],function(){var e=function(e){return function(n){var t=n.control;e.on("FullscreenStateChanged",function(e){t.active(e.state)})}};return{register:function(n){n.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Shift+F",selectable:!0,cmd:"mceFullScreen",onPostRender:e(n),context:"view"}),n.addButton("fullscreen",{active:!1,tooltip:"Fullscreen",cmd:"mceFullScreen",onPostRender:e(n)})}}}),o("0",["1","2","3","4","5"],function(e,n,t,r,i){return n.add("fullscreen",function(n){var o=e(null);return r.register(n,o),i.register(n),n.addShortcut("Ctrl+Shift+F","","mceFullScreen"),t.get(o)}),function(){}}),r("0")()}();