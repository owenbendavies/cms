!function(){var e={},t=function(t){for(var n=e[t],i=n.deps,o=n.defn,u=i.length,c=new Array(u),s=0;s<u;++s)c[s]=r(i[s]);var l=o.apply(null,c);if(void 0===l)throw"module ["+t+"] returned undefined";n.instance=l},n=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},r=function(n){var r=e[n];if(void 0===r)throw"module ["+n+"] was undefined";return void 0===r.instance&&t(n),r.instance},i=function(e,t){for(var n=e.length,i=new Array(n),o=0;o<n;++o)i[o]=r(e[o]);t.apply(null,i)};({}).bolt={module:{api:{define:n,require:i,demand:r}}};var o=n;(function(e,t){o(e,[],function(){return t})})("4",tinymce.util.Tools.resolve),o("1",["4"],function(e){return e("tinymce.PluginManager")}),o("5",["4"],function(e){return e("tinymce.dom.DOMUtils")}),o("6",["4"],function(e){return e("tinymce.EditorManager")}),o("7",["4"],function(e){return e("tinymce.Env")}),o("8",["4"],function(e){return e("tinymce.util.Tools")}),o("9",[],function(){return{shouldMergeClasses:function(e){return e.getParam("importcss_merge_classes")},shouldImportExclusive:function(e){return e.getParam("importcss_exclusive")},getSelectorConverter:function(e){return e.getParam("importcss_selector_converter")},getSelectorFilter:function(e){return e.getParam("importcss_selector_filter")},getCssGroups:function(e){return e.getParam("importcss_groups")},shouldAppend:function(e){return e.getParam("importcss_append")},getFileFilter:function(e){return e.getParam("importcss_file_filter")}}}),o("3",["5","6","7","8","9"],function(e,t,n,r,i){var o=function(e){var t=n.cacheSuffix;return"string"==typeof e&&(e=e.replace("?"+t,"").replace("&"+t,"")),e},u=function(e,n){var r=e.settings,i=!1!==r.skin&&(r.skin||"lightgray");return!!i&&n===(r.skin_url?e.documentBaseURI.toAbsolute(r.skin_url):t.baseURL+"/skins/"+i)+"/content"+(e.inline?".inline":"")+".min.css"},c=function(e){return"string"==typeof e?function(t){return-1!==t.indexOf(e)}:e instanceof RegExp?function(t){return e.test(t)}:e},s=function(e,t,n){function i(t,s){var l,a=t.href;if((a=o(a))&&n(a,s)&&!u(e,a)){r.each(t.imports,function(e){i(e,!0)});try{l=t.cssRules||t.rules}catch(e){}r.each(l,function(e){e.styleSheet?i(e.styleSheet,!0):e.selectorText&&r.each(e.selectorText.split(","),function(e){c.push(r.trim(e))})})}}var c=[],s={};r.each(e.contentCSS,function(e){s[e]=!0}),n||(n=function(e,t){return t||s[e]});try{r.each(t.styleSheets,function(e){i(e)})}catch(e){}return c},l=function(e,t){var n,o=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec(t);if(o){var u=o[1],c=o[2].substr(1).split(".").join(" "),s=r.makeMap("a,img");return o[1]?(n={title:t},e.schema.getTextBlockElements()[u]?n.block=u:e.schema.getBlockElements()[u]||s[u.toLowerCase()]?n.selector=u:n.inline=u):o[2]&&(n={inline:"span",title:t.substr(1),classes:c}),!1!==i.shouldMergeClasses(e)?n.classes=c:n.attributes={"class":c},n}},a=function(e,t){return r.grep(e,function(e){return!e.filter||e.filter(t)})},f=function(e){return r.map(e,function(e){return r.extend({},e,{original:e,selectors:{},filter:c(e.filter),item:{text:e.title,menu:[]}})})},m=function(e,t){return null===t||!1!==i.shouldImportExclusive(e)},d=function(e,t,n,r){return!(m(e,n)?t in r:t in n.selectors)},g=function(e,t,n,r){m(e,n)?r[t]=!0:n.selectors[t]=!0},p=function(e,t,n,r){return(r&&r.selector_converter?r.selector_converter:i.getSelectorConverter(e)?i.getSelectorConverter(e):function(){return l(e,n,r)}).call(t,n,r)};return{defaultConvertSelectorToFormat:l,setup:function(t){t.on("renderFormatsMenu",function(n){var o={},u=c(i.getSelectorFilter(t)),l=n.control,m=f(i.getCssGroups(t)),v=function(n,i){if(d(t,n,i,o)){g(t,n,i,o);var u=p(t,t.plugins.importcss,n,i);if(u){var c=u.name||e.DOM.uniqueId();return t.formatter.register(c,u),r.extend({},l.settings.itemDefaults,{text:u.title,format:c})}}return null};i.shouldAppend(t)||l.items().remove(),r.each(s(t,n.doc||t.getDoc(),c(i.getFileFilter(t))),function(e){if(-1===e.indexOf(".mce-")&&(!u||u(e))){var t=a(m,e);if(t.length>0)r.each(t,function(t){var n=v(e,t);n&&t.item.menu.push(n)});else{var n=v(e,null);n&&l.add(n)}}}),r.each(m,function(e){e.item.menu.length>0&&l.add(e.item)}),n.control.renderNew()})}}}),o("2",["3"],function(e){return{get:function(t){return{convertSelectorToFormat:function(n){return e.defaultConvertSelectorToFormat(t,n)}}}}}),o("0",["1","2","3"],function(e,t,n){return e.add("importcss",function(e){return n.setup(e),t.get(e)}),function(){}}),r("0")()}();